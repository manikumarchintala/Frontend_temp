<html>
    
    <div>
        <input id="tittle" type="text" placeholder="tittle"></input>
        <br></br>
        <input id="descreption" type="text" placeholder="descreption"></input>
        <br></br>
        <button onclick="addtodo()" >add todo</button>
        <div id="todo" ></div>
    </div>
    <script>
        function createchild(tittle,descreption,id){
            const child = document.createElement("div");
            const firstgrandchild = document.createElement("div");
            firstgrandchild.innerHTML = tittle;
            const secondgrandchild = document.createElement("div");
            secondgrandchild.innerHTML = descreption;
            const thirdgrandchild = document.createElement("button");
            thirdgrandchild.innerHTML = "markAsDone";
            thirdgrandchild.setAttribute("onclick",`markasDone(${id})`);
            child.appendChild(firstgrandchild);
            child.appendChild(secondgrandchild);
            child.appendChild(thirdgrandchild);
            child.setAttribute("id",id);
            return child;

        };
        function updatedomacesstostate(state){
            const parent = document.getElementById("container");
            page.innerHTML="";
            for(let i =0;i<state.length;i++){
                const state = createchild(state[i].tittle,state[i].descreption,state[i].id);
                parent.appendChild(child)
            }
        };
        window.setInterval(async function(){
            const res = await fetch("www.google.com")
            const json = await res.json();
            updatedomacesstostate(json.todo);

        },5000)
    </script>
</html>